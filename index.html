<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description"
    content="Dice Box: 설치 없는 3D 주사위 시뮬레이터. TRPG, 보드게임을 위한 D4, D6, D8, D12, D20 지원. 리얼한 물리 엔진과 다양한 테마를 무료로 경험하세요.">
  <meta name="keywords" content="주사위, 주사위 굴리기, 3D 주사위, 온라인 주사위, TRPG 주사위, D&D Dice, Dice Roller, Dice Simulator">
  <meta property="og:title" content="Dice Box - 3D 주사위 시뮬레이터">
  <meta property="og:description" content="TRPG와 보드게임을 위한 리얼한 3D 주사위. 모바일 지원.">
  <meta property="og:type" content="website">
  <title>Dice Box - 3D 주사위 시뮬레이터</title>

  <!-- Three.js & Cannon-es CDN -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
        "cannon-es": "https://unpkg.com/cannon-es@0.20.0/dist/cannon-es.js"
      }
    }
  </script>

  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!-- Start Scene -->
  <section id="start-scene" class="scene active">
    <div class="scene-content">
      <!-- 언어 선택 드롭다운 -->
      <div class="lang-selector-container" style="display: flex; gap: 10px;">
        <button id="mute-btn" class="icon-btn" aria-label="Toggle Sound">
          🔊
        </button>
        <select id="lang-selector" class="lang-selector">
          <option value="ko">한국어</option>
          <option value="en">English</option>
          <option value="ja">日本語</option>
        </select>
      </div>

      <header class="title-area">
        <h1 class="title">🎲 <span data-i18n="title">Dice Box</span></h1>
        <p class="subtitle" data-i18n="subtitle">주사위가 필요한 모든 순간</p>
      </header>

      <div class="settings-card glass">
        <div class="setting-group">
          <label class="setting-label" data-i18n="diceType">주사위 종류</label>
          <div id="dice-type-selector" class="dice-type-selector">
            <button class="dice-type-btn active" data-type="d6">D6</button>
            <button class="dice-type-btn" data-type="d8">D8</button>
            <button class="dice-type-btn" data-type="d20">D20</button>
          </div>
        </div>

        <div class="setting-group">
          <label class="setting-label" data-i18n="diceCount">주사위 개수</label>
          <div class="slider-container">
            <input type="range" id="dice-count" min="1" max="10" value="2" class="slider">
            <span id="dice-count-display" class="slider-value">2</span>
          </div>
        </div>

        <div class="setting-group">
          <label class="setting-label" data-i18n="diceColor">주사위 색상</label>
          <div id="color-palette" class="color-palette">
            <button class="color-btn active" data-color="#e74c3c" style="--btn-color: #e74c3c"></button>
            <button class="color-btn" data-color="#3498db" style="--btn-color: #3498db"></button>
            <button class="color-btn" data-color="#2ecc71" style="--btn-color: #2ecc71"></button>
            <button class="color-btn" data-color="#f39c12" style="--btn-color: #f39c12"></button>
            <button class="color-btn" data-color="#9b59b6" style="--btn-color: #9b59b6"></button>
            <button class="color-btn" data-color="#ecf0f1" style="--btn-color: #ecf0f1"></button>
          </div>
        </div>

        <div class="setting-group">
          <label class="setting-label" data-i18n="trayTheme">트레이 테마</label>
          <div id="theme-selector" class="theme-selector">
            <button class="theme-btn active" data-theme="default">
              <span class="theme-preview default"></span>
              <span class="theme-name">Default</span>
            </button>
            <button class="theme-btn" data-theme="wood">
              <span class="theme-preview wood"></span>
              <span class="theme-name">Wood</span>
            </button>
          </div>
        </div>
      </div>

      <button id="roll-btn" class="roll-btn">
        <span class="roll-btn-text" data-i18n="roll">🎲 Roll!</span>
      </button>
    </div>

    <!-- 정보 콘텐츠 섹션 (AdSense용) -->
    <main class="info-section">
      <article class="glass info-card">
        <h2 data-i18n="content.intro.title">🎲 Dice Box란?</h2>
        <p data-i18n="content.intro.desc">Dice Box는 설치 없이 웹에서 바로 사용할 수 있는 <strong>3D 주사위 시뮬레이터</strong>입니다. TRPG 세션,
          보드게임, 혹은 간단한 내기가 필요할 때 언제 어디서나 주사위를 굴려보세요. 강력한 3D 물리 엔진을 사용하여 실제 주사위와 같은 무작위성을 제공합니다.</p>
      </article>

      <article class="glass info-card">
        <h2 data-i18n="content.features.title">✨ 주요 기능</h2>
        <ul class="feature-list">
          <li data-i18n="content.features.list1"><strong>다양한 주사위</strong>: D4, D6, D8, D12, D20 등 TRPG에 필요한 모든 주사위 지원
          </li>
          <li data-i18n="content.features.list2"><strong>리얼한 물리 엔진</strong>: 단순 난수 생성이 아닌, 물리 충돌 기반의 리얼한 시뮬레이션</li>
          <li data-i18n="content.features.list3"><strong>커스터마이징</strong>: 주사위 색상, 트레이 테마(펠트, 나무 등) 변경 가능</li>
          <li data-i18n="content.features.list4"><strong>결과 공유</strong>: 주사위 굴림 결과를 이미지로 캡처하여 친구들과 공유</li>
          <li data-i18n="content.features.list5"><strong>모바일 최적화</strong>: 스마트폰 흔들기 기능을 포함한 모바일 친화적 인터페이스</li>
        </ul>
      </article>

      <article class="glass info-card">
        <h2 data-i18n="content.guide.title">📚 주사위 가이드</h2>
        <div class="dice-guide">
          <h3 data-i18n="content.guide.d20.title">D20 (정이십면체)</h3>
          <p data-i18n="content.guide.d20.desc">D&D(Dungeons & Dragons)와 같은 d20 시스템에서 가장 중요하게 사용되는 주사위입니다. 공격 굴림, 능력 판정,
            내성 굴림 등 게임의 핵심적인 판정에 사용됩니다. 1이 나오면 대실패(Critical Miss), 20이 나오면 대성공(Critical Hit)의 짜릿함을 느껴보세요!</p>

          <h3 data-i18n="content.guide.d6.title">D6 (정육면체)</h3>
          <p data-i18n="content.guide.d6.desc">가장 일반적이고 친숙한 주사위입니다. 캐릭터의 능력치 생성, 짧은 검(Shortsword)이나 화염구(Fireball) 주문의
            피해량 결정 등에 널리 쓰입니다.</p>

          <h3 data-i18n="content.guide.d8.title">D8 (정팔면체)</h3>
          <p data-i18n="content.guide.d8.desc">전투 성직자(Cleric)의 무기나 롱소드(Longsword), 워해머(Warhammer)의 피해량을 결정할 때 주로 사용됩니다.
          </p>
        </div>
      </article>

      <footer class="main-footer">
        <div class="footer-links">
          <a href="pages/privacy.html" data-i18n="content.footer.privacy">개인정보처리방침</a>
          <span class="separator">|</span>
          <a href="pages/terms.html" data-i18n="content.footer.terms">이용약관</a>
          <span class="separator">|</span>
          <a href="mailto:contact@dicebox.com" data-i18n="content.footer.inquiry">문의하기</a>
        </div>
        <p class="copyright" data-i18n="content.footer.copyright">© 2026 Dice Box. All rights reserved.</p>
        <p class="disclaimer" data-i18n="content.footer.disclaimer">Dice Box는 팬 메이드 프로젝트이며, 특정 TRPG 시스템의 공식 툴이 아닙니다.</p>
      </footer>
    </main>
  </section>

  <!-- Rolling Scene (결과 오버레이 포함) -->
  <section id="rolling-scene" class="scene">
    <canvas id="dice-canvas"></canvas>

    <!-- 굴리는 중 인디케이터 -->
    <div id="rolling-indicator" class="rolling-indicator">
      <div class="spinner"></div>
      <p data-i18n="rolling">굴리는 중...</p>
    </div>

    <!-- 결과 오버레이 (주사위 위에 표시) -->
    <div id="result-overlay" class="result-overlay">
      <div class="result-card glass">
        <div class="result-card glass">
          <div class="result-header">
            <div class="total-container">
              <span class="total-label" data-i18n="total">합계</span>
              <span id="total-value" class="total-value">0</span>
            </div>
            <button id="toggle-detail-btn" class="toggle-btn" aria-label="Toggle Details">
              <span class="toggle-icon">▼</span>
            </button>
          </div>

          <div id="dice-groups" class="dice-groups">
            <!-- 눈금별 그룹이 동적으로 추가됨 -->
          </div>
        </div>
      </div>

      <div class="result-actions">
        <button id="share-btn" class="action-btn secondary" data-i18n="share">
          🔗 공유하기
        </button>
        <button id="reroll-btn" class="action-btn primary" data-i18n="reroll">
          🎲 다시 던지기
        </button>
        <button id="home-btn" class="action-btn secondary" data-i18n="home">
          🏠 처음으로
        </button>
      </div>
    </div>
  </section>

  <script type="module" src="js/main.js?v=11"></script>
</body>

</html>