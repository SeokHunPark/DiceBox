<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="description" content="ì‹¤ì œ ì£¼ì‚¬ìœ„ì˜ ì†ë§›ì„ ëŠë‚„ ìˆ˜ ìˆëŠ” ë¬¼ë¦¬ ê¸°ë°˜ 3D ì£¼ì‚¬ìœ„ ì‹œë®¬ë ˆì´í„°">
  <title>Dice Box - 3D ì£¼ì‚¬ìœ„ ì‹œë®¬ë ˆì´í„°</title>

  <!-- Three.js & Cannon-es CDN -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
        "cannon-es": "https://unpkg.com/cannon-es@0.20.0/dist/cannon-es.js"
      }
    }
  </script>

  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!-- Start Scene -->
  <section id="start-scene" class="scene active">
    <div class="scene-content">
      <!-- ì–¸ì–´ ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
      <div class="lang-selector-container">
        <select id="lang-selector" class="lang-selector">
          <option value="ko">í•œêµ­ì–´</option>
          <option value="en">English</option>
          <option value="ja">æ—¥æœ¬èª</option>
        </select>
      </div>

      <header class="title-area">
        <h1 class="title">ğŸ² <span data-i18n="title">Dice Box</span></h1>
        <p class="subtitle" data-i18n="subtitle">ì£¼ì‚¬ìœ„ê°€ í•„ìš”í•œ ëª¨ë“  ìˆœê°„</p>
      </header>

      <div class="settings-card glass">
        <div class="setting-group">
          <label class="setting-label" data-i18n="diceCount">ì£¼ì‚¬ìœ„ ê°œìˆ˜</label>
          <div class="slider-container">
            <input type="range" id="dice-count" min="1" max="10" value="2" class="slider">
            <span id="dice-count-display" class="slider-value">2</span>
          </div>
        </div>

        <div class="setting-group">
          <label class="setting-label" data-i18n="diceColor">ì£¼ì‚¬ìœ„ ìƒ‰ìƒ</label>
          <div id="color-palette" class="color-palette">
            <button class="color-btn active" data-color="#e74c3c" style="--btn-color: #e74c3c"></button>
            <button class="color-btn" data-color="#3498db" style="--btn-color: #3498db"></button>
            <button class="color-btn" data-color="#2ecc71" style="--btn-color: #2ecc71"></button>
            <button class="color-btn" data-color="#f39c12" style="--btn-color: #f39c12"></button>
            <button class="color-btn" data-color="#9b59b6" style="--btn-color: #9b59b6"></button>
            <button class="color-btn" data-color="#ecf0f1" style="--btn-color: #ecf0f1"></button>
          </div>
        </div>
      </div>

      <button id="roll-btn" class="roll-btn">
        <span class="roll-btn-text" data-i18n="roll">ğŸ² Roll!</span>
      </button>
    </div>
  </section>

  <!-- Rolling Scene (ê²°ê³¼ ì˜¤ë²„ë ˆì´ í¬í•¨) -->
  <section id="rolling-scene" class="scene">
    <canvas id="dice-canvas"></canvas>

    <!-- êµ´ë¦¬ëŠ” ì¤‘ ì¸ë””ì¼€ì´í„° -->
    <div id="rolling-indicator" class="rolling-indicator">
      <div class="spinner"></div>
      <p data-i18n="rolling">êµ´ë¦¬ëŠ” ì¤‘...</p>
    </div>

    <!-- ê²°ê³¼ ì˜¤ë²„ë ˆì´ (ì£¼ì‚¬ìœ„ ìœ„ì— í‘œì‹œ) -->
    <div id="result-overlay" class="result-overlay">
      <div class="result-card glass">
        <div class="result-card glass">
          <div class="result-header">
            <div class="total-container">
              <span class="total-label" data-i18n="total">í•©ê³„</span>
              <span id="total-value" class="total-value">0</span>
            </div>
            <button id="toggle-detail-btn" class="toggle-btn" aria-label="Toggle Details">
              <span class="toggle-icon">â–¼</span>
            </button>
          </div>

          <div id="dice-groups" class="dice-groups">
            <!-- ëˆˆê¸ˆë³„ ê·¸ë£¹ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë¨ -->
          </div>
        </div>
      </div>

      <div class="result-actions">
        <button id="reroll-btn" class="action-btn primary" data-i18n="reroll">
          ğŸ² ë‹¤ì‹œ ë˜ì§€ê¸°
        </button>
        <button id="home-btn" class="action-btn secondary" data-i18n="home">
          ğŸ  ì²˜ìŒìœ¼ë¡œ
        </button>
      </div>
    </div>
  </section>

  <script type="module" src="js/main.js?v=10"></script>
</body>

</html>